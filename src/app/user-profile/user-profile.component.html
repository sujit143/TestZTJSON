<p-toast [style]="{marginTop: '80px'}"></p-toast>
<div  >
<div *ngIf="!norecordfound" >
  <!-- <div class="panel-header panel-header-sm"></div> -->
   <div  class="container-fliud " style="background-color:rgba(246, 242, 242, 0.863);">
    <div class="row" style="padding-left: 15px;">
      <div class="first" class=" card col-md-9" style="display: inline-block;border-right:1px solid grey;padding-top:20px;background-color:rgba(246, 242, 242, 0.863);">
          <!-- <div class="card col-md-12" style="max-width: 540px ;"> -->
              <!-- <div class="row no-gutters"> -->
          <div id="dvarticlecontainer">
            <div id="allarticletabview">
              <div class="col-md-12" style="padding-bottom:50px; display: inline-block; padding-top:20px">
                <div *ngFor="let item of all_articles ">
                  <div class="container-fluid">
                      <div class="card " style="max-width: 856px;background-color:rgba(246, 242, 242, 0.863);">
                          <div class="row no-gutters" style=" padding-top: 7px; ">&nbsp;&nbsp;&nbsp;&nbsp;
                    <img src="./assets/profile_img.jpg" style=" width:100px; border-radius:80%;float:left;" alt="profile-picture"><br>
                    <!-- <div class="mb-2">&nbsp;&nbsp;&nbsp;&nbsp; -->
                      <div>
                          <h3  style="margin-left:12px;">{{item.articleName}}</h3>

                          <i class="icon-calendar mr-2"  style="margin-left:8px;"></i>{{item.createdDate | date}}
                          <i class="icon-folder-o mr-2"></i> {{item.categoryName}}
                          <i class="fa fa-user"></i>&nbsp;&nbsp;{{item.createdByName}}
                          <p  style="margin-left:18px;" [innerHtml]="item.previewContent"></p>
                        <!-- </p> -->
                      </div>
                      <div>
                      <p>
                        <span style="padding-right:20px;">
                          <button type='button' class="btn btn-primary btn-sm" style="margin-left:130px; background-color: #34495e; border-color: #34495e; color: #fff;"
                          (click)='onReadMore(item)'>Read More</button>
                        </span>
                        <span style="padding-right:20px;"><button class="btn btn-info btn-sm" (click)='onEditArticle(item)' *ngIf="item.createdByName=='Admin Manjunath'">
                          <i class="fa fa-pencil"> </i>Edit</button></span>
                      </p>
                      </div>
                      <!-- </div> -->
                      </div>
                    </div>
                  </div>
                </div>
                <div class="custompagination pull-right pgArticleList" data-req-url="/KB/GetKBArticles" data-updatecontainer="#dvarticlecontainer"></div>
              </div>
            <!-- </div> -->
          </div>
        <!-- </div> -->
          </div>
          <div>
              <div class="justify-content-center">
                 <p-paginator *ngIf="pageVariable" [rows]="totalItems" [totalRecords]="totalItem" (onPageChange)="loadPage($event)" ></p-paginator>
            <p *ngIf="pageVariable" ><span class="badge badge-secondary">{{"Showing: "+firstvalue+"-"+secondvalue+" of " +totalPages}}</span></p><br>
              </div>
            </div>
      </div>


      <div *ngIf="pageVariable" class="first" class="col-md-3" style="background-color:rgba(246, 242, 242, 0.863);display: inline-block; vertical-align: top;padding-top:30px; padding-left:10px">
        <div id="dvSearch">
            <div style="display: inline-block; vertical-align: top;padding-top:30px; padding-left:10px">
                <div id="dvSearch">
                  <div style="font-size:large; font-weight: 600px" >
                    <label style="font-weight: 700px">Search</label>
                    <label class="pull-right" style="font-weight: 700px">My Article
                      <input type="checkbox" id="checkboxmyarticle" [(ngModel)]="isFlag" (change)="myArticleCheckedUnchecked($event)">
                    </label>
                  </div>
                  <form class="form-inline mr-auto ">
                    <input type="search" pInputText #searchInput class="form-control" id="txtbxsearch"  name='n1' placeholder=" Article Name / Description">
                    <button class="btn btn-primary btn-sm" (click)="onSearchClick(searchInput.value)" style=" background-color: #34495e; border-color: #34495e; color: #fff;" >Search</button>
                  </form>
                  <hr style="border: 1px solid #d4cfc3;">
                  <h3 style="margin-top:30px;">Categories</h3>
                  <ul style="list-style: none;padding-left: 0px;width: 100%;">
                    <label  style="border-bottom: 1px solid #cecece;padding:7px;" (click)="onShowClick()">Show All</label>
                    <div class="form-group">
                      <div *ngFor="let option of category_disp">
                        <label  style="border-bottom: 1px solid #cecece;padding:7px;"(click)="onFilterCheck(option)">
                          <p-checkbox *ngIf="option.isCheck" name="options" binary="true" (click)="onFilterCheck(option)" [(ngModel)]="option.categoryId"></p-checkbox>{{option.categoryName}}
                        </label>
                      </div>
                    </div>
                  </ul>
                </div>
              </div>


        </div>
      </div>
    </div>
</div>
</div>
</div>
  <div *ngIf="norecordfound" >
      <div class="container" style="margin-top: 25px;">
        <h2>
            <i style="color: red; font-weight: bold" class="fa fa-exclamation-triangle"></i><b >No Records Found</b>
          </h2>
        </div>
      </div>


